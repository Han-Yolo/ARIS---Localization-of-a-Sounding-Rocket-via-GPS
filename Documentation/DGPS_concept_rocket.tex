\chapter{GPS concept for a sounding rocket}

The challenge of reaching a GPS accuracy of 1 meter on a sounding rocket consists mainly of two parts.
First, the GPS receiver on the rocket has to be able to get a fix.
This is not a given because of the extreme conditions the receiver experiences during the flight.
Section \ref{Special_conditions} investigates this challenge.
Secondly, the GPS accuracy has to be improved.
The important part here is the vertical accuracy, because this is the value used by the controll to reach the right apogee.
Standard GPS is only accurate to 15 meters for 95\% of the time in the vertical axis.
A significant improvement is needed to satisfie the accuracy reqiurement stated in section \ref{Requirements}.


\section{Special conditions}\label{Special_conditions}

The conditions on a rocket are unlike anything most GPS receivers will ever experience.
The acceleration, velocity and height are the three main parameter that could exceed the operating range of a COTS receiver.
There could either be a technical or legal limit to those parameters.

Apart from that, there is also vibration and rotation present on the rocket.
Vibration should not be a problen for a GPS receiver apart from the mechanical stress on the electronics.
Sounding rockets often have a spin during accent to stabilize the flight path.
This rotation can have an effect on how the receiver antenna receives a signal.
There is a problem called the wind-up effect, where an error occures when the receiver antenna is rotated relative to the satellite antenna.
This error only affects carrier phase measurements and not pseudoranges.
One full rotation results in an error in the phase measurement of one wavelength, which is about 20cm for the GPS L1 carrier \cite{Wind_up}. 
So only system with carrier phase measurements would need to correct for this error if the rotation reults in a too large error.
Apart from that, the receiver could experience fading of the GPS signals because of rotation.
This could happen if a satellite elevation relative to the antenna changes during the rotation and the antenna gain is not constant in this area.
It will have to be tested how a receiver behaves in such a situation.

Another internal problem could come from the telemetry transmitter.
If they are positioned close together, the telemetry antenna could interfere with the GPS antenna.
The GPS signal when it reaches the surface of the earth has a signal strength of about -125dBm.

\section{Decision on accuray enhancement concept}

\section{System Overview}

\section{Data Flow}

\section{Potential problems}



\subsubsection{Setup:}
\begin{itemize}
 \item Two M8T modules in the nosecone and one at the ground station.
 
 \item RF-uplink from ground station to rocket.
\end{itemize}


\subsubsection{Procedure:}
\begin{itemize}
 \item Ground station averages position measurements over a longer time to get reference position. 
 This might not be the exact position, but this only results in a constant bias in the rockets absolute position. 
 Reference position stays fixed when sending of differential correntions starts.
 
 \item Ground station calculates distance to each visible GPS satellite from reference position and ephemeris data.
 
 \item The differnce between the calculated distance and the measuren pseudorange is calculated for each satellite.
 
 \item RTCM 2.3 meassage 1 and 3 are created with the pseudorenge corrections.
 
 \item The RTCM messages are sent to the rocket over the RF-link. 
 The update rate of the corrections could be about 1Hz.
 
 \item On the rocket, the messages are fed into the UART interface of the GPS receiver which includes them in the position estimation.
 
 \item Tropospheric corrections could be added to the pseudorange corrections at the ground station or in the rocket.
 
 \item The first correction is sent when the rocket is still on the launch pad.
 One or more corrected measurements at the launch pad serve as the zero point of the trajectory.
 
 \item The position estimations during the flight can be differnced with the launch pad zero point to get the relative position to the launch pad.
 With this the reference position bias cancels out.
 For the rocket controll and the post processing, the relative position to the launchpad is more relevant.
 The absolute position, where the reference positon bias is still present, is only needed for the recovery of the rocket where accuracy is not as important.
\end{itemize}