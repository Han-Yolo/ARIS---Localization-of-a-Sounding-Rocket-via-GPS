\chapter{Differential GPS concept for a sounding rocket}

\subsubsection{Setup:}
\begin{itemize}
 \item Two M8T modules in the nosecone and one at the ground station.
 
 \item RF-uplink from ground station to rocket.
\end{itemize}


\subsubsection{Procedure:}
\begin{itemize}
 \item Ground station averages position measurements over a longer time to get reference position. 
 This might not be the exact position, but this only results in a constant bias in the rockets absolute position. 
 Reference position stays fixed when sending of differential correntions starts.
 
 \item Ground station calculates distance to each visible GPS satellite from reference position and ephemeris data.
 
 \item The differnce between the calculated distance and the measuren pseudorange is calculated for each satellite.
 
 \item The range differnces are sent to the rocket over the RF-link. 
 The update rate of the corrections could be about 1Hz.
 
 \item On the rocket, the pseudorenge measurements are corrected with the latest differential corrections and a tropospheric model. 
 The tropospheric corrections are zero at the launchpad and get bigger with altitude.
 
 \item The rocket position is then calculated with the corrected pseudoranges.
 
 \item The first correction is sent when the rocket is still on the launch pad.
 One or more corrected measurements at the launch pad serve as the zero point of the trajectory.
 
 \item The calculated position measurements during the flight can be differnced with the launch pad zero point to get the relative position to the launch pad.
 With this the reference position bias cancels out.
 For the rocket controll and the post processing, the relative position to the launchpad is more relevant.
 The absolute position, where the reference positon bias is still present, is only needed for the recovery of the rocket where accuracy is not as important.
\end{itemize}